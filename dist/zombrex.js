var zombrex=function(){"use strict";function n(){}var e={zSHARE:{}},o=[],t=[],r=[],i={after:n,before:n},a={};function f(n,o){!function(n,o){if("string"!=typeof n)throw new Error("Name "+n+" is not typeof string");if(void 0===o)throw new Error("Name "+n+" -> obj "+o+" should not be undefined");Object.keys(e).forEach(function(e){if(e===n)throw new Error("Name "+n+" is already defined")})}(n,o),e[n]=o}function u(n){return i.before(e),Object.keys(a).forEach(function(n){return e[n]=a[n](e)}),t.forEach(function(n){var o=document.querySelector(n.id),t=n.fn(e);if("string"!=typeof t)throw new Error("Render Id "+n.id+" does not produce any html");o.innerHTML=t}),o.forEach(function(n){var o=document.querySelector(n.id);return n.fn(o,e)}),r.forEach(function(n){return n(e)}),i.after(e)}function c(n){var e=n.url,o=n.data,t=o?{method:"POST",headers:{"content-type":"application/json"},mode:"cors",body:JSON.stringify(o),credentials:"same-origin"}:{method:"GET",headers:{"content-type":"application/json"},mode:"cors",credentials:"same-origin"};return fetch(e,t)}var d={languageLong:window.navigator.userLanguage||window.navigator.language,language:(window.navigator.userLanguage||window.navigator.language).substring(0,2),agent:navigator.userAgent,online:navigator.onLine,timeFormat:(new Date).getTimezoneOffset()};function s(){return window.location.reload()}return f("zURLPARAM",function(){for(var n={},e=window.location.search.substring(1).split("&"),o=0;o<e.length;o++){var t=e[o].split("=");if(void 0===n[t[0]])n[t[0]]=decodeURIComponent(t[1]);else if("string"==typeof n[t[0]]){var r=[n[t[0]],decodeURIComponent(t[1])];n[t[0]]=r}else n[t[0]].push(decodeURIComponent(t[1]))}return Object.freeze(n)}()),f("zBROWSER",d),f("tabReload",s),f("noop",function(){}),e.zAjax=c,{component:function(n,e){!function(n,e){if("string"!=typeof n)throw new Error("Name "+n+" is not typeof string");if("function"!=typeof e)throw new Error("fn "+e+" should be a function")}(n,e),a[n]=e},constant:f,preload:function(n){window.addEventListener("DOMContentLoaded",function(){return function(n){var o=0;if(0===n.length||void 0===n)return u();n.forEach(function(t){e.zAjax(t).then(function(n){return n.json()}).then(function(e){if(f(t.name,e),++o===n.length)return u()})})}(n)},!0)},before:function(n){i.before=n},render:function(n,e){t.forEach(function(e){if(e.id===n)throw new Error("Id "+n+" already defined in renders")}),t.push({id:n,fn:e})},lambda:function(n){if("function"!=typeof n)throw new Error("lambda "+n+" is not typeof function");r.push(n)},after:function(n){i.after=n},view:function(n,e){o.forEach(function(e){if(e.id===n)throw new Error("Id "+n+" already defined")}),o.push({id:n,fn:e})}}}();
